<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ÁÑ°Êñô„ÅÑ„Å¨„Å≠„Åì„Çø„Ç§„ÉóË®∫Êñ≠ÔºàWebÁâàÔºâ</title>
  <style>
    body {
      font-family: "Noto Sans JP", sans-serif;
      background: linear-gradient(to bottom, #fffaf3 0%, #fcefe4 100%);
      padding: 2em;
      text-align: center;
      color: #333;
    }
    h1 {
      font-size: 2em;
      color: #e57d23;
      margin-bottom: 0.5em;
    }
    .question-card {
      background: #ffffff;
      padding: 2em;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: inline-block;
      max-width: 500px;
      margin: 1em auto;
    }
    .question-icon {
      font-size: 2em;
    }
    .question-title {
      font-weight: bold;
      font-size: 1.1em;
      margin-bottom: 0.5em;
    }
    .question-text {
      font-size: 1.3em;
      margin-bottom: 1em;
    }
    .status {
      font-size: 0.9em;
      color: #999;
      margin-bottom: 0.5em;
    }
    .progress-bar {
      width: 100%;
      background-color: #eee;
      border-radius: 10px;
      height: 12px;
      margin-bottom: 1em;
    }
    .progress-fill {
      height: 100%;
      background-color: #f4a261;
      width: 0%;
      border-radius: 10px;
      transition: width 0.3s ease;
    }
    .button {
      background: #f4a261;
      color: white;
      border: none;
      padding: 1em 2.5em;
      margin: 1em;
      font-size: 1.3em;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }
    .button:hover {
      background-color: #e57d23;
      transform: scale(1.05);
    }
    #loading {
      display: none;
      font-size: 1.3em;
      color: #555;
      margin-top: 3em;
    }
    .dots::after {
      content: "";
      animation: dots 1.5s steps(3, end) infinite;
    }
    @keyframes dots {
      0% { content: ""; }
      33% { content: "."; }
      66% { content: ".."; }
      100% { content: "..."; }
    }
  </style>
</head>
<body>
  <!-- „Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
  <div id="start">
    <h1>„ÅÑ„Å¨„Å≠„Åì„Çø„Ç§„ÉóË®∫Êñ≠</h1>
    <p>„Å©„Å°„Çâ„ÅÆ„Çø„Ç§„ÉóË®∫Êñ≠„ÇíÂèó„Åë„Åæ„Åô„ÅãÔºü</p>
    <button class="button" onclick="start('dog')">üê∂ Áä¨„Çø„Ç§„ÉóË®∫Êñ≠</button>
    <button class="button" onclick="start('cat')">üê± Áå´„Çø„Ç§„ÉóË®∫Êñ≠</button>
  </div>

  <!-- Ë≥™ÂïèË°®Á§∫„Ç®„É™„Ç¢ -->
  <div id="question-area" style="display:none;">
    <div class="question-card">
      <div class="status" id="status-text"></div>
      <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
      <div class="question-icon" id="question-icon">üêæ</div>
      <div class="question-title">Ë≥™Âïè</div>
      <div class="question-text" id="question-text"></div>
      <button class="button" onclick="answer(1)">„ÅØ„ÅÑ</button>
      <button class="button" onclick="answer(0)">„ÅÑ„ÅÑ„Åà</button>
    </div>
  </div>

  <!-- Ë®∫Êñ≠‰∏≠„É≠„Éº„Éá„Ç£„É≥„Ç∞ -->
  <div id="loading">
    <p>Ë®∫Êñ≠‰∏≠„Åß„Åô<span class="dots"></span></p>
  </div>

  <script>
    const dogQuestions = [
      { q: "Ë™∞„Åã„ÅÆ„Åü„ÇÅ„Å´Âãï„Åè„Åì„Å®„ÅåÂ•Ω„Åç„Åß„Åô„ÅãÔºü", key: "loyalty" },
      { q: "ÂàùÂØæÈù¢„ÅÆ‰∫∫„Å®„Åß„ÇÇ„Åô„ÅêÊâì„Å°Ëß£„Åë„Åæ„Åô„ÅãÔºü", key: "social" },
      { q: "ÊÄù„ÅÑ„Å§„ÅÑ„Åü„Çâ„Åô„ÅêË°åÂãï„Å´Áßª„Åô„Çø„Ç§„Éó„Åß„Åô„ÅãÔºü", key: "rhythm" },
      { q: "Âë®„Çä„Å´Âêà„Çè„Åõ„Çã„Çà„ÇäËá™ÂàÜ„ÅÆ„ÇÑ„ÇäÊñπ„ÇíÂÑ™ÂÖà„Åó„Åæ„Åô„ÅãÔºü", key: "harmony" },
      { q: "‰ªª„Åï„Çå„Åü„Åì„Å®„ÅØÂøÖ„Åö„ÇÑ„Çä„Åç„Çä„Åü„ÅÑÊñπ„Åß„Åô„ÅãÔºü", key: "responsibility" },
      { q: "„ÉÅ„Éº„É†„ÉØ„Éº„ÇØ„Çà„Çä„ÇÇÂÄã‰∫∫„ÅßÂãï„ÅèÊñπ„ÅåÂæóÊÑè„Åß„Åô„ÅãÔºü", key: "harmony" },
      { q: "ÊÖéÈáç„Å´Áâ©‰∫ã„ÇíÊ±∫„ÇÅ„ÇãÊñπ„Åß„Åô„ÅãÔºü", key: "rhythm" },
      { q: "Ëá™Áî±„Å´Ë°åÂãï„Åß„Åç„ÇãÁí∞Â¢É„ÅåÂ•Ω„Åç„Åß„Åô„ÅãÔºü", key: "loyalty" },
      { q: "Áõ∏Êâã„ÅÆË°®ÊÉÖ„ÇÑÁ©∫Ê∞ó„Å´ÊïèÊÑü„Åß„Åô„ÅãÔºü", key: "social" },
      { q: "Âé≥„Åó„Åè„Å¶„ÇÇ„É´„Éº„É´„ÅØÂÆà„Çä„Åü„ÅÑÊñπ„Åß„Åô„ÅãÔºü", key: "responsibility" }
    ];

    const catQuestions = [
      { q: "‰∏Ä‰∫∫„ÅÆÊôÇÈñì„ÇíÂ§ßÂàá„Å´„Åó„Åü„ÅÑÊñπ„Åß„Åô„ÅãÔºü", key: "independence" },
      { q: "Áí∞Â¢É„ÅÆÂ§âÂåñ„Å´ÊïèÊÑü„Å™Êñπ„Åß„Åô„ÅãÔºü", key: "sensitivity" },
      { q: "Áõ∏Êâã„ÅÆË°®ÊÉÖ„ÇÑÈõ∞Âõ≤Ê∞ó„ÇíË™≠„ÅøÂèñ„Çã„ÅÆ„ÅåÂæóÊÑè„Åß„Åô„ÅãÔºü", key: "analysis" },
      { q: "Ëá™ÂàÜ„Å†„Åë„ÅÆ„É´„Éº„ÉÜ„Ç£„É≥„ÇÑ„Åì„Å†„Çè„Çä„Åå„ÅÇ„Çä„Åæ„Åô„ÅãÔºü", key: "preference" },
      { q: "ÊÑüÊÉÖ„ÇíË°®„Å´Âá∫„Åô„Åì„Å®„ÅåÂ§ö„ÅÑÊñπ„Åß„Åô„ÅãÔºü", key: "expression" },
      { q: "Â∞è„Åï„Å™Èü≥„ÇÑÂà∫ÊøÄ„Å´Ê∞ó‰ªò„Åç„ÇÑ„Åô„ÅÑÊñπ„Åß„Åô„ÅãÔºü", key: "sensitivity" },
      { q: "Á©∫Ê∞ó„Çà„Çä„ÇÇÁõ¥ÊÑü„ÅßÂãï„Åè„Çø„Ç§„Éó„Åß„Åô„ÅãÔºü", key: "analysis" },
      { q: "‰ªñ‰∫∫„ÅÆÊúüÂæÖ„Çà„Çä„ÇÇËá™ÂàÜ„ÅÆ„Éö„Éº„Çπ„ÇíÂÑ™ÂÖà„Åó„Åæ„Åô„ÅãÔºü", key: "independence" },
      { q: "Ëá™ÂàÜ„ÅÆËÄÉ„Åà„Çí„Åô„ÅêË®ÄËëâ„Å´„Åô„ÇãÊñπ„Åß„Åô„ÅãÔºü", key: "expression" },
      { q: "„Åì„Å†„Çè„Çä„Å´„ÅØÂ¶•Âçî„Åß„Åç„Å™„ÅÑ„Çø„Ç§„Éó„Åß„Åô„ÅãÔºü", key: "preference" }
    ];

    const profiles = {
      dog: {
        shiba:     { loyalty: 2, social: 1, rhythm: 1, harmony: 2, responsibility: 2 },
        golden:    { loyalty: 1, social: 2, rhythm: 2, harmony: 1, responsibility: 1 },
        labrador:  { loyalty: 2, social: 1, rhythm: 1, harmony: 2, responsibility: 2 },
        toypoodle: { loyalty: 1, social: 2, rhythm: 2, harmony: 1, responsibility: 1 },
        dachshund: { loyalty: 1, social: 1, rhythm: 2, harmony: 1, responsibility: 1 }
      },
      cat: {
        mike:       { independence: 1, sensitivity: 2, analysis: 1, preference: 2, expression: 2 },
        ragdoll:    { independence: 1, sensitivity: 2, analysis: 2, preference: 1, expression: 2 },
        bengal:     { independence: 2, sensitivity: 1, analysis: 1, preference: 2, expression: 2 },
        russian:    { independence: 2, sensitivity: 1, analysis: 2, preference: 2, expression: 1 },
        kuroneko:   { independence: 2, sensitivity: 2, analysis: 2, preference: 2, expression: 1 }
      }
    };

    const resultMap = {
      dog: {
        shiba: "https://inunekotype.jp/result-normal-shiba-01/",
        golden: "https://inunekotype.jp/result-normal-golden-01/",
        labrador: "https://inunekotype.jp/result-normal-labrador-01/",
        toypoodle: "https://inunekotype.jp/result-normal-toypoodle-01/",
        dachshund: "https://inunekotype.jp/result-normal-dachshund-01/"
      },
      cat: {
        mike: "https://inunekotype.jp/result-normal-mike-01/",
        ragdoll: "https://inunekotype.jp/result-normal-ragdoll-01/",
        bengal: "https://inunekotype.jp/result-normal-bengal-01/",
        russian: "https://inunekotype.jp/result-normal-russian-01/",
        kuroneko: "https://inunekotype.jp/result-normal-kuroneko-01/"
      }
    };

    const scores = {};
    let index = 0;
    let currentMode = "";
    let questions = [];

    function start(mode) {
      currentMode = mode;
      index = 0;
      questions = mode === "dog" ? dogQuestions : catQuestions;
      Object.keys(scores).forEach(k => delete scores[k]);
      document.getElementById("start").style.display = "none";
      document.getElementById("question-area").style.display = "block";
      showQuestion();
    }

    function showQuestion() {
      const emoji = currentMode === "dog" ? "üê∂" : "üê±";
      document.getElementById("status-text").innerText = `Q${index + 1} / 10`;
      document.getElementById("question-icon").innerText = emoji;
      document.getElementById("question-text").innerText = questions[index].q;
      document.getElementById("progress-fill").style.width = `${(index / 10) * 100}%`;
    }

    function answer(value) {
      const key = questions[index].key;
      scores[key] = (scores[key] || 0) + value;
      index++;
      if (index < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      document.getElementById("question-area").style.display = "none";
      document.getElementById("loading").style.display = "block";
      setTimeout(() => {
        const resultSlug = calculateResult(currentMode);
        window.location.href = resultMap[currentMode][resultSlug];
      }, 1600);
    }

    function calculateResult(mode) {
      const user = scores;
      let bestMatch = null;
      let minDistance = Infinity;
      for (const type in profiles[mode]) {
        const profile = profiles[mode][type];
        let distance = 0;
        for (const key in profile) {
          const diff = (user[key] || 0) - profile[key];
          distance += diff * diff;
        }
        if (distance < minDistance) {
          minDistance = distance;
          bestMatch = type;
        }
      }
      return bestMatch;
    }
  </script>
</body>
</html>
